(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8750fef4"],{5905:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"page-header-index-wide"},[n("a-card",{attrs:{"body-style":{padding:0}}},[n("div",{staticClass:"ant-pro-table-toolbar"},[n("div",{staticClass:"ant-pro-table-toolbar-title"},[e._v("列表")]),n("div",{staticClass:"ant-pro-table-toolbar-option"},[e.selectedRows.length?[n("div",{staticClass:"ant-pro-table-toolbar-item"},[n("a-dropdown",[n("a-menu",{attrs:{slot:"overlay"},on:{click:e.handleMenuClick},slot:"overlay"},[n("a-menu-item",{key:"remove"},[n("a-icon",{attrs:{type:"delete"}}),e._v("批量删除")],1)],1),n("a-button",{staticStyle:{"margin-left":"8px"}},[e._v(" 批量操作 "),n("a-icon",{attrs:{type:"down"}})],1)],1)],1),n("a-divider",{attrs:{type:"vertical"}})]:e._e(),n("span",{staticClass:"ant-pro-table-toolbar-item-icon"},[n("a-tooltip",{attrs:{placement:"top"}},[n("template",{slot:"title"},[n("span",[e._v("刷新")])]),n("a-icon",{attrs:{type:"reload"},on:{click:function(t){return e.refreshTable()}}})],2)],1)],2)]),n("s-table",{ref:"table",attrs:{size:"default",rowKey:function(e){return e.id},columns:e.columns,data:e.loadData,alert:!0,rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"user_agent",fn:function(t){return[n("a-tooltip",{attrs:{placement:"left",title:t}},[n("a",[e._v("查看")])])]}},{key:"tools",fn:function(t){return[n("a",{on:{click:function(n){return e.handleDeleteRow(t)}}},[e._v("删除")])]}}])})],1)],1)},o=[],l=(n("a15b"),n("8916")),r=n("2af9"),s=[{title:"用户",dataIndex:"nickname"},{title:"Action",dataIndex:"action"},{title:"Url",dataIndex:"url"},{title:"UserAgent",dataIndex:"user_agent",scopedSlots:{customRender:"user_agent"}},{title:"IP",dataIndex:"ip"},{title:"记录日期",dataIndex:"create_time"},{title:"操作",scopedSlots:{customRender:"tools"}}],i={data:function(){var e=this;return{description:"管理员可以查看自己所拥有的权限的管理员日志",loading:!1,form:this.$form.createForm(this),columns:s,queryParam:{},loadData:function(t){return Object(l["d"])(Object.assign(t,e.queryParam)).then((function(e){return e.result}))},selectedRowKeys:[],selectedRows:[]}},components:{STable:r["r"]},mounted:function(){},methods:{handleDeleteRow:function(e){this.handleDelete(!0,e)},handleDeleteSelected:function(){this.handleDelete(!1,this.selectedRowKeys)},handleDelete:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=t?n.id:this.selectedRowKeys.join();this.$confirm({title:t?"确定删除此项吗":"确定删除已选中项吗?",content:"",okText:"确定",okType:"danger",cancelText:"取消",onOk:function(){e.loading=!0,Object(l["b"])({id:a}).then((function(t){e.$notification["success"]({message:"成功通知",description:"删除成功！"}),e.refreshTable()}))}})},refreshTable:function(){this.$refs.table.refresh()},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},handleMenuClick:function(e){var t=e.key;switch(t){case"remove":this.handleDeleteSelected()}}}},c=i,d=n("2877"),u=Object(d["a"])(c,a,o,!1,null,null,null);t["default"]=u.exports},8916:function(e,t,n){"use strict";n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return i}));var a=n("b775"),o=n("365c");function l(e){return Object(a["b"])({url:o["a"].Log.Acount,method:"get",params:e})}function r(e){return Object(a["b"])({url:o["a"].Log.Acount,method:"delete",params:e})}function s(e){return Object(a["b"])({url:o["a"].Log.Db,method:"get",params:e})}function i(e){return Object(a["b"])({url:o["a"].Log.Db,method:"delete",params:e})}}}]);